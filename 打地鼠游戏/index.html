<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=240,user-scalable=no" id="viewport" />
	<title>Document</title>
	<style type="text/css">
		*{
			margin: 0;
			padding: 0;
		}
		img{
			display: none;
		}
		body{
			text-align: center;
		}
		canvas{
			border:1px solid #ccc;
			/*background: url(img/bj.png);*/
		}
	</style>
</head>
<body>
	<audio src="sound/bgsound.ogg" id = "audio"></audio>
	<canvas width="240" height="320" id="my_canvas"></canvas>
	<img src="img/bj.png" alt="">
	<img src="img/cd.png" alt="">
	<img src="img/chuizi.png" alt="">
	<img src="img/cw.png" alt="">
	<img src="img/cwk.png" alt="">
	<img src="img/dishu.png" alt="">
	<img src="img/dishu_2.png" alt="">
	<img src="img/life.png" alt="">
	<img src="img/life1.png" alt="">
	<img src="img/logo.png" alt="">
	<img src="img/num_1.png" alt="">
	<img src="img/num_2.png" alt="">
	<img src="img/tuzi.png" alt="">
	<img src="img/ui.png" alt="">
	<script type="text/javascript" src="js/Game.js"></script>
	<script type="text/javascript" src="js/Dishu.js"></script>
	<script> 
	  window.onload = function(){
	  	// 定义函数减少代码
		  function $(id){
		  	return document.getElementById(id);
		  }
		  var imgs = document.querySelectorAll("img");
		  // 循环给所有的img图片加id
		  for(var i = 0;i<imgs.length;i++){
		  	imgs[i].src.replace(/\/(\w+)\.png$/,function(match,$1){
		  		imgs[i].id = $1;
		  	})	
		  }
		  var ctx = $("my_canvas").getContext("2d");
		  // 面向对象——打地鼠
		  // 背景图片 
		  var bj = $("bj");
		  // 地鼠类
		  var dishu = new Dishu([$("dishu"),$("dishu_2"),$("tuzi")]);
		  // 锤子图片
			var chuizi = $("chuizi");	 
			// logo图片
			var logo = $("logo");
			// ui图片
			var ui = $("ui");
		  // 游戏类
		  var g = new Game(ctx,bj,dishu,chuizi,logo,ui);
	  }
	</script>
</body>
</html>